<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.8.0/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.8.5/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.17.2/dist/browser/index.js"></script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"0003. vite-plugin-mock çš„åŸºæœ¬ä½¿ç”¨","children":[{"content":"markmap","children":[{"content":"<img src=\"md-imgs/markmap.png\" alt=\"\">","children":[]}],"payload":{"lines":"2,3"}},{"content":"ğŸ“ summary","children":[{"content":"æœ¬èŠ‚å†…å®¹ï¼švite-plugin-mock çš„åŸºæœ¬ä½¿ç”¨ã€‚","children":[],"payload":{"lines":"9,10"}},{"content":"åœ¨ Vite ä¸­ä½¿ç”¨ mock æ•°æ®æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„åŠŸèƒ½ï¼Œå¦‚æœè·Ÿè´Ÿè´£å†™åç«¯çš„æœ‹å‹æ¥å£è¿˜æ²¡å†™å¥½ï¼Œå‰ç«¯å¯ä»¥è‡ªè¡Œæ ¹æ®æ¥å£æ–‡æ¡£çš„è¦æ±‚æ¥ mock æ•°æ®ã€‚åšæ³•å¾ˆç®€å•ï¼Œåœ¨ä¸‹é¢çš„ demo ä¸­è®°å½•åŸºæœ¬æµç¨‹ã€‚","children":[],"payload":{"lines":"10,12"}}],"payload":{"lines":"7,8","fold":2}},{"content":"ğŸ”— links","children":[{"content":"https://www.npmjs.com/package/vite-plugin-mock","children":[{"content":"NPMï¼Œvite-plugin-mockã€‚","children":[],"payload":{"lines":"15,16"}}],"payload":{"lines":"14,16"}},{"content":"https://github.com/vbenjs/vite-plugin-mock/tree/main#readme","children":[{"content":"Githubï¼Œvite-plugin-mockã€‚ä»‹ç»äº†è¯¥æ’ä»¶çš„åŸºæœ¬ä½¿ç”¨ï¼Œä»¥åŠä¸€äº›å­—æ®µçš„æè¿°ã€‚","children":[],"payload":{"lines":"17,19"}}],"payload":{"lines":"16,19"}}],"payload":{"lines":"12,13"}},{"content":"ğŸ’» demo","children":[{"content":"<pre><code class=\"language-bash\"><span class=\"hljs-comment\"># åˆå§‹åŒ–åŒ…ï¼Œå¹¶å®‰è£…å¿…è¦çš„ä¾èµ–</span>\n\n<span class=\"hljs-comment\"># åˆå§‹åŒ–åŒ…</span>\n$ pnpm init\n<span class=\"hljs-comment\"># å®‰è£…å¿…è¦çš„ä¾èµ–</span>\n$ pnpm install vite-plugin-mock vite mock @types/node\n\n<span class=\"hljs-comment\"># vite-plugin-mock ä¸€ä¸ªå¯ä»¥å¸®åŠ©ä½ æ‹¦æˆªç½‘ç»œè¯·æ±‚å¹¶æä¾›æ¨¡æ‹Ÿæ•°æ®çš„åº“ã€‚</span>\n<span class=\"hljs-comment\"># vite æ„å»ºå·¥å…·</span>\n<span class=\"hljs-comment\"># mock æ¨¡æ‹Ÿæ•°æ®çš„åº“</span>\n<span class=\"hljs-comment\"># @types/node è¿™æ˜¯ nodejs ç¯å¢ƒä¸‹çš„ä¸€äº›ç±»å‹å£°æ˜æ–‡ä»¶</span>\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"name\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"vite-mock-demo\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"version\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"1.0.0\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"description\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"main\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"index.js\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"scripts\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">\"test\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span>\n  <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"keywords\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span><span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"author\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"license\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"ISC\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"dependencies\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">\"@types/node\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"^20.14.6\"</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"mock\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"^0.1.1\"</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"vite\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"^5.3.1\"</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"vite-plugin-mock\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"^3.0.2\"</span>\n  <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-javascript\"><span class=\"hljs-keyword\">import</span> { defineConfig } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'vite'</span>\n<span class=\"hljs-keyword\">import</span> { viteMockServe } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'vite-plugin-mock'</span>\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-title function_\">defineConfig</span>({\n  <span class=\"hljs-attr\">server</span>: {\n    <span class=\"hljs-attr\">port</span>: <span class=\"hljs-number\">3000</span>, <span class=\"hljs-comment\">// ç«¯å£å·æ”¹ä¸º 3000ï¼ˆé»˜è®¤ç«¯å£æ˜¯ 5173ï¼Œè‹¥ç«¯å£å·å†²çªäº†ï¼Œå¯ä»¥åœ¨è¿™é‡Œè‡ªå®šä¹‰ç«¯å£ï¼‰</span>\n    <span class=\"hljs-attr\">open</span>: <span class=\"hljs-literal\">true</span>, <span class=\"hljs-comment\">// è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span>\n  },\n  <span class=\"hljs-attr\">plugins</span>: [\n    <span class=\"hljs-title function_\">viteMockServe</span>({\n      <span class=\"hljs-comment\">// æŒ‡å®šå­˜æ”¾ mock æ–‡ä»¶çš„æ–‡ä»¶å¤¹</span>\n      <span class=\"hljs-attr\">mockPath</span>: <span class=\"hljs-string\">'mock'</span>,\n\n      <span class=\"hljs-comment\">// åœ¨å¼€å‘ç¯å¢ƒå¯ç”¨ mock åŠŸèƒ½</span>\n      <span class=\"hljs-attr\">enable</span>: process.<span class=\"hljs-property\">env</span>.<span class=\"hljs-property\">NODE_ENV</span> === <span class=\"hljs-string\">'development'</span>,\n    }),\n  ],\n})\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-javascript\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> [\n  {\n    <span class=\"hljs-attr\">url</span>: <span class=\"hljs-string\">'/api/user'</span>,\n    <span class=\"hljs-attr\">method</span>: <span class=\"hljs-string\">'get'</span>,\n    <span class=\"hljs-attr\">response</span>: <span class=\"hljs-function\">() =&gt;</span> {\n      <span class=\"hljs-keyword\">return</span> {\n        <span class=\"hljs-attr\">code</span>: <span class=\"hljs-number\">200</span>,\n        <span class=\"hljs-attr\">message</span>: <span class=\"hljs-string\">'ok'</span>,\n        <span class=\"hljs-attr\">data</span>: {\n          <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'å¼ ä¸‰'</span>,\n          <span class=\"hljs-attr\">age</span>: <span class=\"hljs-number\">25</span>\n        }\n      };\n    }\n  }\n];\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-html\"><span class=\"hljs-meta\">&lt;!DOCTYPE <span class=\"hljs-keyword\">html</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">html</span> <span class=\"hljs-attr\">lang</span>=<span class=\"hljs-string\">\"en\"</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">head</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">charset</span>=<span class=\"hljs-string\">\"UTF-8\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"viewport\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"width=device-width, initial-scale=1.0\"</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">title</span>&gt;</span>vite-mock-demo<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">title</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">head</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">body</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h1</span>&gt;</span>æµ‹è¯• mock<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h1</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h2</span>&gt;</span>è¯·æ±‚åˆ°çš„æ•°æ®ï¼š<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"mock-data\"</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h2</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\n      <span class=\"hljs-title function_\">fetch</span>(<span class=\"hljs-string\">'/api/user'</span>)\n        .<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">res</span>) =&gt;</span> res.<span class=\"hljs-title function_\">json</span>())\n        .<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">data</span>) =&gt;</span> {\n          <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(data)\n          <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">'mock-data'</span>).<span class=\"hljs-property\">textContent</span> =\n            <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">stringify</span>(data)\n        })\n    </span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">body</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">html</span>&gt;</span>\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-bash\"><span class=\"hljs-comment\"># å¯åŠ¨ä½ çš„ Vite å¼€å‘æœåŠ¡å™¨</span>\n$ npx vite\n</code></pre>","children":[]}],"payload":{"lines":"19,20"}}],"payload":{"lines":"0,1"}},{"maxWidth":400,"colorFreezeLevel":2,"duration":0,"spacingVertical":20})</script>
</body>
</html>

<style>
body,
#mindmap {
  width: 1920px;
  height: 1080px;
}
</style>
